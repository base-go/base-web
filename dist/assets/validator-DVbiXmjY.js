import{a as x,_ as m}from"./Card-dhBREXno.js";import{d as y,u as v,c as f,w as a,a as b,b as w,e,f as r,g as t,_ as h,r as q,o as u}from"./index-c5PrNzGP.js";import{_ as C}from"./DocsLayout.vue_vue_type_script_setup_true_lang-D4FaFzot.js";const j={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},S={class:"mb-12"},k={class:"grid gap-4 md:grid-cols-3 mb-6"},R={class:"flex items-center space-x-2"},E={class:"flex items-center space-x-2"},V={class:"flex items-center space-x-2"},P={class:"mb-12"},_={class:"flex items-center space-x-2"},U={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},N={class:"flex items-center justify-between mb-2"},F={class:"mb-12"},M={class:"space-y-6"},T={class:"flex items-center space-x-2"},D={class:"flex items-center space-x-2"},A={class:"flex items-center space-x-2"},I={class:"flex items-center space-x-2"},B={class:"mb-12"},O={class:"space-y-6"},J={class:"flex items-center space-x-2"},L={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},H={class:"flex items-center justify-between mb-2"},z={class:"flex items-center space-x-2"},$={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},G={class:"flex items-center justify-between mb-2"},W={class:"mb-12"},Z={class:"space-y-6"},K={class:"flex items-center space-x-2"},Q={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},X={class:"flex items-center justify-between mb-2"},Y={class:"flex items-center space-x-2"},ee={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},te={class:"flex items-center justify-between mb-2"},se={class:"mb-12"},ae={class:"space-y-6"},re={class:"flex items-center space-x-2"},ne={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},le={class:"flex items-center justify-between mb-2"},ie={class:"flex items-center space-x-2"},oe={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},de={class:"flex items-center justify-between mb-2"},pe={class:"mb-12"},ue={class:"space-y-6"},ce={class:"flex items-center space-x-2"},ge={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},xe={class:"flex items-center justify-between mb-2"},me={class:"mb-12"},ye={class:"space-y-6"},ve={class:"flex items-center space-x-2"},fe={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},be={class:"flex items-center justify-between mb-2"},we={class:"flex items-center space-x-2"},he={class:"relative bg-gray-900 dark:bg-gray-950 rounded-lg p-4 overflow-x-auto"},qe={class:"flex items-center justify-between mb-2"},Ce={class:"space-y-4"},Ee=y({__name:"validator",setup(je){const{copy:c}=v(),d=async(p,s)=>{await c(p);const o=s.target,n=o.textContent;o.textContent="Copied!",o.classList.add("!text-green-400"),setTimeout(()=>{o.textContent=n,o.classList.remove("!text-green-400")},2e3)};return(p,s)=>{const o=x,n=h,i=m,g=q("prism");return u(),f(C,null,{default:a(()=>[b((u(),w("div",j,[s[75]||(s[75]=e("div",{class:"mb-8"},[e("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white mb-4"},"Validator"),e("p",{class:"text-xl text-gray-600 dark:text-gray-300"}," Powerful request validation system with custom error messages and struct tag validation ")],-1)),e("section",S,[s[18]||(s[18]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Overview",-1)),r(o,{color:"blue",variant:"soft",class:"mb-6"},{title:a(()=>s[10]||(s[10]=[t("ðŸ” Comprehensive Validation",-1)])),description:a(()=>s[11]||(s[11]=[t(" Base Framework's validator wraps go-playground/validator v10 with enhanced error messages, automatic JSON field name mapping, and seamless integration with request handling. It provides over 100+ built-in validation rules and supports custom validators. ",-1)])),_:1}),e("div",k,[r(i,null,{header:a(()=>[e("div",R,[r(n,{name:"i-lucide-check-circle",class:"h-5 w-5 text-green-500"}),s[12]||(s[12]=e("span",{class:"font-semibold"},"Struct Validation",-1))])]),default:a(()=>[s[13]||(s[13]=e("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Validate entire structs using struct tags with automatic field name resolution. ",-1))]),_:1,__:[13]}),r(i,null,{header:a(()=>[e("div",E,[r(n,{name:"i-lucide-message-circle",class:"h-5 w-5 text-blue-500"}),s[14]||(s[14]=e("span",{class:"font-semibold"},"Custom Messages",-1))])]),default:a(()=>[s[15]||(s[15]=e("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Automatically generated user-friendly error messages with field-specific context. ",-1))]),_:1,__:[15]}),r(i,null,{header:a(()=>[e("div",V,[r(n,{name:"i-lucide-code",class:"h-5 w-5 text-purple-500"}),s[16]||(s[16]=e("span",{class:"font-semibold"},"Custom Rules",-1))])]),default:a(()=>[s[17]||(s[17]=e("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Create and register custom validation rules for domain-specific validation logic. ",-1))]),_:1,__:[17]})])]),e("section",P,[s[22]||(s[22]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Quick Start",-1)),r(i,null,{header:a(()=>[e("div",_,[r(n,{name:"i-lucide-play",class:"h-5 w-5 text-green-500"}),s[19]||(s[19]=e("span",{class:"font-semibold"},"Basic Usage",-1))])]),default:a(()=>[e("div",U,[e("div",N,[s[20]||(s[20]=e("span",{class:"text-xs text-gray-400"},"Basic Validation Example",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[0]||(s[0]=l=>{d(`package main

import (
    "base/core/validator"
)

type UserCreateRequest struct {
    Name     string \`json:"name" validate:"required,min=2,max=50"\`
    Email    string \`json:"email" validate:"required,email"\`
    Age      int    \`json:"age" validate:"gte=18,lte=120"\`
    Password string \`json:"password" validate:"required,min=8"\`
}

func validateUser() {
    req := &UserCreateRequest{
        Name:     "",           // Invalid - required
        Email:    "invalid",   // Invalid - not email format
        Age:      15,          // Invalid - too young
        Password: "123",       // Invalid - too short
    }
    
    // Validate using Base validator
    if errors := validator.Validate(req); errors != nil {
        // Handle validation errors
        for _, err := range errors {
            fmt.Printf("%s: %s
", err.Field, err.Message)
        }
    }
}`,l)})}," Copy ")]),s[21]||(s[21]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"package"),t(` main

`),e("span",{class:"text-blue-400"},"import"),t(` (
    `),e("span",{class:"text-green-400"},'"base/core/validator"'),t(`
)

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"UserCreateRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Name     `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"name" validate:"required,min=2,max=50"`'),t(`
    Email    `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"email" validate:"required,email"`'),t(`
    Age      `),e("span",{class:"text-purple-400"},"int"),t("    "),e("span",{class:"text-gray-400"},'`json:"age" validate:"gte=18,lte=120"`'),t(`
    Password `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"password" validate:"required,min=8"`'),t(`
}

`),e("span",{class:"text-blue-400"},"func"),t(),e("span",{class:"text-yellow-400"},"validateUser"),t(`() {
    req := &UserCreateRequest{
        Name:     `),e("span",{class:"text-green-400"},'""'),t(",           "),e("span",{class:"text-green-400"},"// Invalid - required"),t(`
        Email:    `),e("span",{class:"text-green-400"},'"invalid"'),t(",   "),e("span",{class:"text-green-400"},"// Invalid - not email format"),t(`
        Age:      `),e("span",{class:"text-purple-400"},"15"),t(",          "),e("span",{class:"text-green-400"},"// Invalid - too young"),t(`
        Password: `),e("span",{class:"text-green-400"},'"123"'),t(",       "),e("span",{class:"text-green-400"},"// Invalid - too short"),t(`
    }
    
    `),e("span",{class:"text-green-400"},"// Validate using Base validator"),t(`
    `),e("span",{class:"text-blue-400"},"if"),t(" errors := validator.Validate(req); errors != "),e("span",{class:"text-purple-400"},"nil"),t(` {
        `),e("span",{class:"text-green-400"},"// Handle validation errors"),t(`
        `),e("span",{class:"text-blue-400"},"for"),t(" _, err := "),e("span",{class:"text-blue-400"},"range"),t(` errors {
            fmt.Printf(`),e("span",{class:"text-green-400"},'"%s: %s\\n"'),t(`, err.Field, err.Message)
        }
    }
}`)])],-1))])]),_:1})]),e("section",F,[s[32]||(s[32]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Built-in Validation Rules",-1)),e("div",M,[s[31]||(s[31]=e("p",{class:"text-gray-600 dark:text-gray-300"}," Base Framework includes over 100+ validation rules from go-playground/validator. Here are the most commonly used ones: ",-1)),r(i,null,{header:a(()=>[e("div",T,[r(n,{name:"i-lucide-asterisk",class:"h-5 w-5 text-red-500"}),s[23]||(s[23]=e("span",{class:"font-semibold"},"Required & Optional",-1))])]),default:a(()=>[s[24]||(s[24]=e("div",{class:"grid gap-4 md:grid-cols-2"},[e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Basic Rules"),e("div",{class:"space-y-2 text-sm"},[e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"required"),t(" - Field cannot be empty")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"omitempty"),t(" - Skip validation if empty")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"required_if"),t(" - Required based on other field")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"required_unless"),t(" - Required unless other field matches")])])]),e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Examples"),e("div",{class:"text-sm text-gray-600 dark:text-gray-300"},[e("div",null,[e("code",null,'`validate:"required"`')]),e("div",null,[e("code",null,'`validate:"omitempty,email"`')]),e("div",null,[e("code",null,'`validate:"required_if=Type user"`')]),e("div",null,[e("code",null,'`validate:"required_unless=Premium true"`')])])])],-1))]),_:1,__:[24]}),r(i,null,{header:a(()=>[e("div",D,[r(n,{name:"i-lucide-type",class:"h-5 w-5 text-blue-500"}),s[25]||(s[25]=e("span",{class:"font-semibold"},"String Validation",-1))])]),default:a(()=>[s[26]||(s[26]=e("div",{class:"grid gap-4 md:grid-cols-2"},[e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Length & Format"),e("div",{class:"space-y-2 text-sm"},[e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"min=n"),t(" - Minimum length")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"max=n"),t(" - Maximum length")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"len=n"),t(" - Exact length")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"alpha"),t(" - Letters only")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"alphanum"),t(" - Letters and numbers")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"numeric"),t(" - Numbers only")])])]),e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Pattern Matching"),e("div",{class:"space-y-2 text-sm"},[e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"email"),t(" - Valid email format")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"url"),t(" - Valid URL format")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"uuid"),t(" - Valid UUID format")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"contains=text"),t(" - Contains substring")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"startswith=text"),t(" - Starts with text")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"endswith=text"),t(" - Ends with text")])])])],-1))]),_:1,__:[26]}),r(i,null,{header:a(()=>[e("div",A,[r(n,{name:"i-lucide-hash",class:"h-5 w-5 text-green-500"}),s[27]||(s[27]=e("span",{class:"font-semibold"},"Numeric Validation",-1))])]),default:a(()=>[s[28]||(s[28]=e("div",{class:"grid gap-4 md:grid-cols-2"},[e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Comparison"),e("div",{class:"space-y-2 text-sm"},[e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"gt=n"),t(" - Greater than")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"gte=n"),t(" - Greater than or equal")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"lt=n"),t(" - Less than")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"lte=n"),t(" - Less than or equal")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"eq=n"),t(" - Equal to")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"ne=n"),t(" - Not equal to")])])]),e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Examples"),e("div",{class:"text-sm text-gray-600 dark:text-gray-300"},[e("div",null,[e("code",null,'`validate:"gte=18,lte=120"`')]),e("div",null,[e("code",null,'`validate:"gt=0"`')]),e("div",null,[e("code",null,'`validate:"min=1,max=100"`')]),e("div",null,[e("code",null,'`validate:"oneof=1 2 3 4 5"`')])])])],-1))]),_:1,__:[28]}),r(i,null,{header:a(()=>[e("div",I,[r(n,{name:"i-lucide-layers",class:"h-5 w-5 text-orange-500"}),s[29]||(s[29]=e("span",{class:"font-semibold"},"Collections & Arrays",-1))])]),default:a(()=>[s[30]||(s[30]=e("div",{class:"space-y-4"},[e("div",{class:"grid gap-4 md:grid-cols-2"},[e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Array/Slice Rules"),e("div",{class:"space-y-2 text-sm"},[e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"dive"),t(" - Validate each element")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"unique"),t(" - All elements unique")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"min=n"),t(" - Minimum array length")]),e("div",null,[e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-purple-600 dark:text-purple-400"},"max=n"),t(" - Maximum array length")])])]),e("div",null,[e("h4",{class:"font-medium text-gray-700 dark:text-gray-200 mb-2"},"Example Usage"),e("div",{class:"text-sm text-gray-600 dark:text-gray-300"},[e("div",null,[e("code",null,'`validate:"required,dive,email"`')]),e("div",null,[e("code",null,'`validate:"min=1,max=10,dive,gt=0"`')]),e("div",null,[e("code",null,'`validate:"unique"`')])])])])],-1))]),_:1,__:[30]})])]),e("section",B,[s[39]||(s[39]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Request Validation in Controllers",-1)),e("div",O,[r(i,null,{header:a(()=>[e("div",J,[r(n,{name:"i-lucide-server",class:"h-5 w-5 text-blue-500"}),s[33]||(s[33]=e("span",{class:"font-semibold"},"Model Request Structure",-1))])]),default:a(()=>[e("div",L,[e("div",H,[s[34]||(s[34]=e("span",{class:"text-xs text-gray-400"},"models/user.go",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[1]||(s[1]=l=>d(`package models

import (
    "time"
    "gorm.io/gorm"
)

// User model
type User struct {
    ID        uint           \`json:"id" gorm:"primarykey"\`
    CreatedAt time.Time      \`json:"created_at"\`
    UpdatedAt time.Time      \`json:"updated_at"\`
    DeletedAt gorm.DeletedAt \`json:"deleted_at" gorm:"index"\`
    Name      string         \`json:"name" gorm:"not null"\`
    Email     string         \`json:"email" gorm:"uniqueIndex"\`
    Age       int            \`json:"age"\`
    Role      string         \`json:"role" gorm:"default:user"\`
}

// CreateUserRequest represents the request payload for creating a user
type CreateUserRequest struct {
    Name     string \`json:"name" validate:"required,min=2,max=50"\`
    Email    string \`json:"email" validate:"required,email"\`
    Age      int    \`json:"age" validate:"gte=18,lte=120"\`
    Role     string \`json:"role" validate:"omitempty,oneof=user admin moderator"\`
    Password string \`json:"password" validate:"required,min=8,containsany=!@#$%^&*"\`
}

// UpdateUserRequest represents the request payload for updating a user
type UpdateUserRequest struct {
    Name string \`json:"name" validate:"omitempty,min=2,max=50"\`
    Age  *int   \`json:"age" validate:"omitempty,gte=18,lte=120"\`
    Role string \`json:"role" validate:"omitempty,oneof=user admin moderator"\`
}`,l))}," Copy ")]),s[35]||(s[35]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"package"),t(` models

`),e("span",{class:"text-blue-400"},"import"),t(` (
    `),e("span",{class:"text-green-400"},'"time"'),t(`
    `),e("span",{class:"text-green-400"},'"gorm.io/gorm"'),t(`
)

`),e("span",{class:"text-green-400"},"// User model"),t(`
`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"User"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    ID        `),e("span",{class:"text-purple-400"},"uint"),t("           "),e("span",{class:"text-gray-400"},'`json:"id" gorm:"primarykey"`'),t(`
    CreatedAt time.Time      `),e("span",{class:"text-gray-400"},'`json:"created_at"`'),t(`
    UpdatedAt time.Time      `),e("span",{class:"text-gray-400"},'`json:"updated_at"`'),t(`
    DeletedAt gorm.DeletedAt `),e("span",{class:"text-gray-400"},'`json:"deleted_at" gorm:"index"`'),t(`
    Name      `),e("span",{class:"text-purple-400"},"string"),t("         "),e("span",{class:"text-gray-400"},'`json:"name" gorm:"not null"`'),t(`
    Email     `),e("span",{class:"text-purple-400"},"string"),t("         "),e("span",{class:"text-gray-400"},'`json:"email" gorm:"uniqueIndex"`'),t(`
    Age       `),e("span",{class:"text-purple-400"},"int"),t("            "),e("span",{class:"text-gray-400"},'`json:"age"`'),t(`
    Role      `),e("span",{class:"text-purple-400"},"string"),t("         "),e("span",{class:"text-gray-400"},'`json:"role" gorm:"default:user"`'),t(`
}

`),e("span",{class:"text-green-400"},"// CreateUserRequest represents the request payload for creating a user"),t(`
`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"CreateUserRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Name     `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"name" validate:"required,min=2,max=50"`'),t(`
    Email    `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"email" validate:"required,email"`'),t(`
    Age      `),e("span",{class:"text-purple-400"},"int"),t("    "),e("span",{class:"text-gray-400"},'`json:"age" validate:"gte=18,lte=120"`'),t(`
    Role     `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"role" validate:"omitempty,oneof=user admin moderator"`'),t(`
    Password `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"password" validate:"required,min=8,containsany=!@#$%^&*"`'),t(`
}

`),e("span",{class:"text-green-400"},"// UpdateUserRequest represents the request payload for updating a user"),t(`
`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"UpdateUserRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Name `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"name" validate:"omitempty,min=2,max=50"`'),t(`
    Age  *`),e("span",{class:"text-purple-400"},"int"),t("   "),e("span",{class:"text-gray-400"},'`json:"age" validate:"omitempty,gte=18,lte=120"`'),t(`
    Role `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"role" validate:"omitempty,oneof=user admin moderator"`'),t(`
}`)])],-1))])]),_:1}),r(i,null,{header:a(()=>[e("div",z,[r(n,{name:"i-lucide-check-square",class:"h-5 w-5 text-green-500"}),s[36]||(s[36]=e("span",{class:"font-semibold"},"Controller Validation",-1))])]),default:a(()=>[e("div",$,[e("div",G,[s[37]||(s[37]=e("span",{class:"text-xs text-gray-400"},"user/controller.go",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[2]||(s[2]=l=>{d(`package user

import (
    "net/http"
    
    "base/app/models"
    "base/core/router"
    "base/core/types"
    "base/core/validator"
)

func (c *UserController) Create(ctx *router.Context) error {
    var req models.CreateUserRequest
    
    // Bind JSON request
    if err := ctx.ShouldBindJSON(&req); err != nil {
        return ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error:   "Invalid request format",
            Success: false,
            Details: err.Error(),
        })
    }
    
    // Validate request using Base validator
    if validationErrors := validator.Validate(&req); validationErrors != nil {
        return ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error:   "Validation failed",
            Success: false,
            Details: validationErrors,
        })
    }
    
    // Create user through service
    user, err := c.Service.Create(&req)
    if err != nil {
        return ctx.JSON(http.StatusInternalServerError, types.ErrorResponse{
            Error:   "Failed to create user",
            Success: false,
            Details: err.Error(),
        })
    }
    
    return ctx.JSON(http.StatusCreated, types.SuccessResponse{
        Message: "User created successfully",
        Success: true,
        Data:    user.ToResponse(),
    })
}`,l)})}," Copy ")]),s[38]||(s[38]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"package"),t(` user

`),e("span",{class:"text-blue-400"},"import"),t(` (
    `),e("span",{class:"text-green-400"},'"net/http"'),t(`
    
    `),e("span",{class:"text-green-400"},'"base/app/models"'),t(`
    `),e("span",{class:"text-green-400"},'"base/core/router"'),t(`
    `),e("span",{class:"text-green-400"},'"base/core/types"'),t(`
    `),e("span",{class:"text-green-400"},'"base/core/validator"'),t(`
)

`),e("span",{class:"text-blue-400"},"func"),t(" (c *UserController) "),e("span",{class:"text-yellow-400"},"Create"),t("(ctx *router.Context) "),e("span",{class:"text-purple-400"},"error"),t(` {
    `),e("span",{class:"text-blue-400"},"var"),t(` req models.CreateUserRequest
    
    `),e("span",{class:"text-green-400"},"// Bind JSON request"),t(`
    `),e("span",{class:"text-blue-400"},"if"),t(" err := ctx.ShouldBindJSON(&req); err != "),e("span",{class:"text-purple-400"},"nil"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error:   `),e("span",{class:"text-green-400"},'"Invalid request format"'),t(`,
            Success: `),e("span",{class:"text-purple-400"},"false"),t(`,
            Details: err.Error(),
        })
    }
    
    `),e("span",{class:"text-green-400"},"// Validate request using Base validator"),t(`
    `),e("span",{class:"text-blue-400"},"if"),t(" validationErrors := validator.Validate(&req); validationErrors != "),e("span",{class:"text-purple-400"},"nil"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error:   `),e("span",{class:"text-green-400"},'"Validation failed"'),t(`,
            Success: `),e("span",{class:"text-purple-400"},"false"),t(`,
            Details: validationErrors,
        })
    }
    
    `),e("span",{class:"text-green-400"},"// Create user through service"),t(`
    user, err := c.Service.Create(&req)
    `),e("span",{class:"text-blue-400"},"if"),t(" err != "),e("span",{class:"text-purple-400"},"nil"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusInternalServerError, types.ErrorResponse{
            Error:   `),e("span",{class:"text-green-400"},'"Failed to create user"'),t(`,
            Success: `),e("span",{class:"text-purple-400"},"false"),t(`,
            Details: err.Error(),
        })
    }
    
    `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusCreated, types.SuccessResponse{
        Message: `),e("span",{class:"text-green-400"},'"User created successfully"'),t(`,
        Success: `),e("span",{class:"text-purple-400"},"true"),t(`,
        Data:    user.ToResponse(),
    })
}`)])],-1))])]),_:1})])]),e("section",W,[s[46]||(s[46]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Custom Validation Rules",-1)),e("div",Z,[r(i,null,{header:a(()=>[e("div",K,[r(n,{name:"i-lucide-settings-2",class:"h-5 w-5 text-purple-500"}),s[40]||(s[40]=e("span",{class:"font-semibold"},"Creating Custom Validators",-1))])]),default:a(()=>[e("div",Q,[e("div",X,[s[41]||(s[41]=e("span",{class:"text-xs text-gray-400"},"Custom Validator Example",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[3]||(s[3]=l=>d(`package validators

import (
    "regexp"
    "strings"
    
    "base/core/validator"
    "github.com/go-playground/validator/v10"
)

// Init registers all custom validators
func Init() {
    v := validator.New()
    
    // Register custom validators
    v.RegisterValidation("username", validateUsername)
    v.RegisterValidation("strong_password", validateStrongPassword)
    v.RegisterValidation("phone", validatePhone)
    v.RegisterValidation("slug", validateSlug)
}

// validateUsername checks if username is valid (alphanumeric, underscore, hyphen)
func validateUsername(fl validator.FieldLevel) bool {
    username := fl.Field().String()
    if len(username) < 3 || len(username) > 20 {
        return false
    }
    
    // Only allow alphanumeric, underscore, and hyphen
    matched, _ := regexp.MatchString("^[a-zA-Z0-9_-]+$", username)
    return matched
}

// validateStrongPassword checks password complexity
func validateStrongPassword(fl validator.FieldLevel) bool {
    password := fl.Field().String()
    
    // At least 8 characters
    if len(password) < 8 {
        return false
    }
    
    // Must contain uppercase, lowercase, number, and special character
    hasUpper, _ := regexp.MatchString("[A-Z]", password)
    hasLower, _ := regexp.MatchString("[a-z]", password)
    hasNumber, _ := regexp.MatchString("[0-9]", password)
    hasSpecial, _ := regexp.MatchString("[!@#$%^&*(),.?\\":{}|<>]", password)
    
    return hasUpper && hasLower && hasNumber && hasSpecial
}

// validatePhone validates phone number format
func validatePhone(fl validator.FieldLevel) bool {
    phone := fl.Field().String()
    // Simple international phone validation
    matched, _ := regexp.MatchString("^\\+?[1-9]\\d{1,14}$", phone)
    return matched
}

// validateSlug validates URL-friendly slug format
func validateSlug(fl validator.FieldLevel) bool {
    slug := fl.Field().String()
    if len(slug) == 0 {
        return false
    }
    
    // Lowercase letters, numbers, and hyphens only
    matched, _ := regexp.MatchString("^[a-z0-9-]+$", slug)
    if !matched {
        return false
    }
    
    // Cannot start or end with hyphen
    return !strings.HasPrefix(slug, "-") && !strings.HasSuffix(slug, "-")
}`,l))}," Copy ")]),s[42]||(s[42]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"package"),t(` validators

`),e("span",{class:"text-blue-400"},"import"),t(` (
    `),e("span",{class:"text-green-400"},'"regexp"'),t(`
    `),e("span",{class:"text-green-400"},'"strings"'),t(`
    
    `),e("span",{class:"text-green-400"},'"base/core/validator"'),t(`
    `),e("span",{class:"text-green-400"},'"github.com/go-playground/validator/v10"'),t(`
)

`),e("span",{class:"text-green-400"},"// Init registers all custom validators"),t(`
`),e("span",{class:"text-blue-400"},"func"),t(),e("span",{class:"text-yellow-400"},"Init"),t(`() {
    v := validator.New()
    
    `),e("span",{class:"text-green-400"},"// Register custom validators"),t(`
    v.RegisterValidation(`),e("span",{class:"text-green-400"},'"username"'),t(`, validateUsername)
    v.RegisterValidation(`),e("span",{class:"text-green-400"},'"strong_password"'),t(`, validateStrongPassword)
    v.RegisterValidation(`),e("span",{class:"text-green-400"},'"phone"'),t(`, validatePhone)
    v.RegisterValidation(`),e("span",{class:"text-green-400"},'"slug"'),t(`, validateSlug)
}

`),e("span",{class:"text-green-400"},"// validateUsername checks if username is valid (alphanumeric, underscore, hyphen)"),t(`
`),e("span",{class:"text-blue-400"},"func"),t(),e("span",{class:"text-yellow-400"},"validateUsername"),t("(fl validator.FieldLevel) "),e("span",{class:"text-purple-400"},"bool"),t(` {
    username := fl.Field().String()
    `),e("span",{class:"text-blue-400"},"if"),t(),e("span",{class:"text-yellow-400"},"len"),t("(username) < "),e("span",{class:"text-purple-400"},"3"),t(" || "),e("span",{class:"text-yellow-400"},"len"),t("(username) > "),e("span",{class:"text-purple-400"},"20"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(),e("span",{class:"text-purple-400"},"false"),t(`
    }
    
    `),e("span",{class:"text-green-400"},"// Only allow alphanumeric, underscore, and hyphen"),t(`
    matched, _ := regexp.MatchString(`),e("span",{class:"text-green-400"},'"^[a-zA-Z0-9_-]+$"'),t(`, username)
    `),e("span",{class:"text-blue-400"},"return"),t(` matched
}

`),e("span",{class:"text-green-400"},"// validateStrongPassword checks password complexity"),t(`
`),e("span",{class:"text-blue-400"},"func"),t(),e("span",{class:"text-yellow-400"},"validateStrongPassword"),t("(fl validator.FieldLevel) "),e("span",{class:"text-purple-400"},"bool"),t(` {
    password := fl.Field().String()
    
    `),e("span",{class:"text-green-400"},"// At least 8 characters"),t(`
    `),e("span",{class:"text-blue-400"},"if"),t(),e("span",{class:"text-yellow-400"},"len"),t("(password) < "),e("span",{class:"text-purple-400"},"8"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(),e("span",{class:"text-purple-400"},"false"),t(`
    }
    
    `),e("span",{class:"text-green-400"},"// Must contain uppercase, lowercase, number, and special character"),t(`
    hasUpper, _ := regexp.MatchString(`),e("span",{class:"text-green-400"},'"[A-Z]"'),t(`, password)
    hasLower, _ := regexp.MatchString(`),e("span",{class:"text-green-400"},'"[a-z]"'),t(`, password)
    hasNumber, _ := regexp.MatchString(`),e("span",{class:"text-green-400"},'"[0-9]"'),t(`, password)
    hasSpecial, _ := regexp.MatchString(`),e("span",{class:"text-green-400"},'"[!@#$%^&*(),.?\\":{}|<>]"'),t(`, password)
    
    `),e("span",{class:"text-blue-400"},"return"),t(` hasUpper && hasLower && hasNumber && hasSpecial
}`)])],-1))])]),_:1}),r(i,null,{header:a(()=>[e("div",Y,[r(n,{name:"i-lucide-tag",class:"h-5 w-5 text-blue-500"}),s[43]||(s[43]=e("span",{class:"font-semibold"},"Using Custom Validators",-1))])]),default:a(()=>[e("div",ee,[e("div",te,[s[44]||(s[44]=e("span",{class:"text-xs text-gray-400"},"Applying Custom Validation Tags",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[4]||(s[4]=l=>d(`type UserRegistrationRequest struct {
    Username string \`json:"username" validate:"required,username"\`
    Email    string \`json:"email" validate:"required,email"\`
    Phone    string \`json:"phone" validate:"omitempty,phone"\`
    Password string \`json:"password" validate:"required,strong_password"\`
}

type BlogPostRequest struct {
    Title   string \`json:"title" validate:"required,min=3,max=200"\`
    Slug    string \`json:"slug" validate:"required,slug"\`
    Content string \`json:"content" validate:"required,min=10"\`
    Tags    []string \`json:"tags" validate:"omitempty,dive,min=2,max=20"\`
}

// Initialize validators in your main.go or init function
func init() {
    validators.Init()
}`,l))}," Copy ")]),s[45]||(s[45]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"UserRegistrationRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Username `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"username" validate:"required,username"`'),t(`
    Email    `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"email" validate:"required,email"`'),t(`
    Phone    `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"phone" validate:"omitempty,phone"`'),t(`
    Password `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"password" validate:"required,strong_password"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"BlogPostRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Title   `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"title" validate:"required,min=3,max=200"`'),t(`
    Slug    `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"slug" validate:"required,slug"`'),t(`
    Content `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"content" validate:"required,min=10"`'),t(`
    Tags    []`),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"tags" validate:"omitempty,dive,min=2,max=20"`'),t(`
}

`),e("span",{class:"text-green-400"},"// Initialize validators in your main.go or init function"),t(`
`),e("span",{class:"text-blue-400"},"func"),t(),e("span",{class:"text-yellow-400"},"init"),t(`() {
    validators.Init()
}`)])],-1))])]),_:1})])]),e("section",se,[s[55]||(s[55]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Error Handling & Messages",-1)),e("div",ae,[r(o,{color:"amber",variant:"soft",class:"mb-6"},{title:a(()=>s[47]||(s[47]=[t("ðŸŽ¯ User-Friendly Messages",-1)])),description:a(()=>s[48]||(s[48]=[t(" Base Framework automatically generates user-friendly error messages from validation tags. Field names use JSON tag names for consistency with API responses. ",-1)])),_:1}),r(i,null,{header:a(()=>[e("div",re,[r(n,{name:"i-lucide-alert-circle",class:"h-5 w-5 text-red-500"}),s[49]||(s[49]=e("span",{class:"font-semibold"},"Validation Error Structure",-1))])]),default:a(()=>[e("div",ne,[e("div",le,[s[50]||(s[50]=e("span",{class:"text-xs text-gray-400"},"Error Response Example",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[5]||(s[5]=l=>d(`{
  "error": "Validation failed",
  "success": false,
  "details": [
    {
      "field": "name",
      "tag": "required",
      "value": "",
      "message": "name is required"
    },
    {
      "field": "email",
      "tag": "email",
      "value": "invalid-email",
      "message": "email must be a valid email address"
    },
    {
      "field": "age",
      "tag": "gte",
      "value": "15",
      "message": "age must be greater than or equal to 18"
    },
    {
      "field": "password",
      "tag": "min",
      "value": "123",
      "message": "password must be at least 8 characters long"
    }
  ]
}`,l))}," Copy ")]),s[51]||(s[51]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[t(`{
  `),e("span",{class:"text-blue-400"},'"error"'),t(": "),e("span",{class:"text-green-400"},'"Validation failed"'),t(`,
  `),e("span",{class:"text-blue-400"},'"success"'),t(": "),e("span",{class:"text-purple-400"},"false"),t(`,
  `),e("span",{class:"text-blue-400"},'"details"'),t(`: [
    {
      `),e("span",{class:"text-blue-400"},'"field"'),t(": "),e("span",{class:"text-green-400"},'"name"'),t(`,
      `),e("span",{class:"text-blue-400"},'"tag"'),t(": "),e("span",{class:"text-green-400"},'"required"'),t(`,
      `),e("span",{class:"text-blue-400"},'"value"'),t(": "),e("span",{class:"text-green-400"},'""'),t(`,
      `),e("span",{class:"text-blue-400"},'"message"'),t(": "),e("span",{class:"text-green-400"},'"name is required"'),t(`
    },
    {
      `),e("span",{class:"text-blue-400"},'"field"'),t(": "),e("span",{class:"text-green-400"},'"email"'),t(`,
      `),e("span",{class:"text-blue-400"},'"tag"'),t(": "),e("span",{class:"text-green-400"},'"email"'),t(`,
      `),e("span",{class:"text-blue-400"},'"value"'),t(": "),e("span",{class:"text-green-400"},'"invalid-email"'),t(`,
      `),e("span",{class:"text-blue-400"},'"message"'),t(": "),e("span",{class:"text-green-400"},'"email must be a valid email address"'),t(`
    },
    {
      `),e("span",{class:"text-blue-400"},'"field"'),t(": "),e("span",{class:"text-green-400"},'"age"'),t(`,
      `),e("span",{class:"text-blue-400"},'"tag"'),t(": "),e("span",{class:"text-green-400"},'"gte"'),t(`,
      `),e("span",{class:"text-blue-400"},'"value"'),t(": "),e("span",{class:"text-green-400"},'"15"'),t(`,
      `),e("span",{class:"text-blue-400"},'"message"'),t(": "),e("span",{class:"text-green-400"},'"age must be greater than or equal to 18"'),t(`
    },
    {
      `),e("span",{class:"text-blue-400"},'"field"'),t(": "),e("span",{class:"text-green-400"},'"password"'),t(`,
      `),e("span",{class:"text-blue-400"},'"tag"'),t(": "),e("span",{class:"text-green-400"},'"min"'),t(`,
      `),e("span",{class:"text-blue-400"},'"value"'),t(": "),e("span",{class:"text-green-400"},'"123"'),t(`,
      `),e("span",{class:"text-blue-400"},'"message"'),t(": "),e("span",{class:"text-green-400"},'"password must be at least 8 characters long"'),t(`
    }
  ]
}`)])],-1))])]),_:1}),r(i,null,{header:a(()=>[e("div",ie,[r(n,{name:"i-lucide-message-square",class:"h-5 w-5 text-blue-500"}),s[52]||(s[52]=e("span",{class:"font-semibold"},"Custom Error Messages",-1))])]),default:a(()=>[e("div",oe,[e("div",de,[s[53]||(s[53]=e("span",{class:"text-xs text-gray-400"},"Enhanced Error Message Handling",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[6]||(s[6]=l=>{d(`package validators

import (
    "fmt"
    "base/core/validator"
)

// CustomMessageValidator extends the base validator with custom messages
type CustomMessageValidator struct {
    *validator.Validator
    messages map[string]string
}

func NewCustomValidator() *CustomMessageValidator {
    return &CustomMessageValidator{
        Validator: validator.New(),
        messages: map[string]string{
            "required":      "This field is required",
            "email":         "Please enter a valid email address",
            "min":           "This field must be at least %s characters",
            "max":           "This field cannot exceed %s characters",
            "gte":           "Value must be at least %s",
            "lte":           "Value cannot exceed %s",
            "username":      "Username must be 3-20 characters with letters, numbers, underscore or hyphen only",
            "strong_password": "Password must be at least 8 characters with uppercase, lowercase, number and special character",
        },
    }
}

func (cv *CustomMessageValidator) GetCustomMessage(field, tag, param string) string {
    if msg, exists := cv.messages[tag]; exists {
        if param != "" {
            return fmt.Sprintf("%s: "+msg, field, param)
        }
        return fmt.Sprintf("%s: "+msg, field)
    }
    return fmt.Sprintf("%s is invalid", field)
}`,l)})}," Copy ")]),s[54]||(s[54]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"package"),t(` validators

`),e("span",{class:"text-blue-400"},"import"),t(` (
    `),e("span",{class:"text-green-400"},'"fmt"'),t(`
    `),e("span",{class:"text-green-400"},'"base/core/validator"'),t(`
)

`),e("span",{class:"text-green-400"},"// CustomMessageValidator extends the base validator with custom messages"),t(`
`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"CustomMessageValidator"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    *validator.Validator
    messages `),e("span",{class:"text-blue-400"},"map"),t("["),e("span",{class:"text-purple-400"},"string"),t("]"),e("span",{class:"text-purple-400"},"string"),t(`
}

`),e("span",{class:"text-blue-400"},"func"),t(),e("span",{class:"text-yellow-400"},"NewCustomValidator"),t(`() *CustomMessageValidator {
    `),e("span",{class:"text-blue-400"},"return"),t(` &CustomMessageValidator{
        Validator: validator.New(),
        messages: `),e("span",{class:"text-blue-400"},"map"),t("["),e("span",{class:"text-purple-400"},"string"),t("]"),e("span",{class:"text-purple-400"},"string"),t(`{
            `),e("span",{class:"text-green-400"},'"required"'),t(":      "),e("span",{class:"text-green-400"},'"This field is required"'),t(`,
            `),e("span",{class:"text-green-400"},'"email"'),t(":         "),e("span",{class:"text-green-400"},'"Please enter a valid email address"'),t(`,
            `),e("span",{class:"text-green-400"},'"min"'),t(":           "),e("span",{class:"text-green-400"},'"This field must be at least %s characters"'),t(`,
            `),e("span",{class:"text-green-400"},'"max"'),t(":           "),e("span",{class:"text-green-400"},'"This field cannot exceed %s characters"'),t(`,
            `),e("span",{class:"text-green-400"},'"gte"'),t(":           "),e("span",{class:"text-green-400"},'"Value must be at least %s"'),t(`,
            `),e("span",{class:"text-green-400"},'"lte"'),t(":           "),e("span",{class:"text-green-400"},'"Value cannot exceed %s"'),t(`,
            `),e("span",{class:"text-green-400"},'"username"'),t(":      "),e("span",{class:"text-green-400"},'"Username must be 3-20 characters with letters, numbers, underscore or hyphen only"'),t(`,
            `),e("span",{class:"text-green-400"},'"strong_password"'),t(": "),e("span",{class:"text-green-400"},'"Password must be at least 8 characters with uppercase, lowercase, number and special character"'),t(`,
        },
    }
}`)])],-1))])]),_:1})])]),e("section",pe,[s[60]||(s[60]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Validation with File Uploads",-1)),e("div",ue,[s[59]||(s[59]=e("p",{class:"text-gray-600 dark:text-gray-300"}," Base Framework integrates validation seamlessly with file uploads, providing automatic file type and size validation. ",-1)),r(i,null,{header:a(()=>[e("div",ce,[r(n,{name:"i-lucide-upload",class:"h-5 w-5 text-green-500"}),s[56]||(s[56]=e("span",{class:"font-semibold"},"File Upload Validation",-1))])]),default:a(()=>[e("div",ge,[e("div",xe,[s[57]||(s[57]=e("span",{class:"text-xs text-gray-400"},"File Upload with Validation",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[7]||(s[7]=l=>{d(`type ProductCreateRequest struct {
    Name        string                \`json:"name" validate:"required,min=2,max=100"\`
    Description string                \`json:"description" validate:"required,min=10,max=1000"\`
    Price       float64               \`json:"price" validate:"required,gt=0"\`
    Category    string                \`json:"category" validate:"required,oneof=electronics clothing books"\`
    Images      []*multipart.FileHeader \`json:"images" validate:"omitempty,dive,max=5242880"\` // 5MB limit
    Manual      *multipart.FileHeader   \`json:"manual" validate:"omitempty"\`
}

func (c *ProductController) CreateWithFiles(ctx *router.Context) error {
    var req ProductCreateRequest
    
    // Parse multipart form
    if err := ctx.Request.ParseMultipartForm(32 << 20); err != nil { // 32MB
        return ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error: "Failed to parse form data",
        })
    }
    
    // Bind form data
    req.Name = ctx.FormValue("name")
    req.Description = ctx.FormValue("description")
    
    // Parse price
    if priceStr := ctx.FormValue("price"); priceStr != "" {
        if price, err := strconv.ParseFloat(priceStr, 64); err == nil {
            req.Price = price
        }
    }
    
    req.Category = ctx.FormValue("category")
    
    // Get files
    form := ctx.Request.MultipartForm
    if files, exists := form.File["images"]; exists {
        req.Images = files
    }
    if files, exists := form.File["manual"]; exists && len(files) > 0 {
        req.Manual = files[0]
    }
    
    // Validate request
    if validationErrors := validator.Validate(&req); validationErrors != nil {
        return ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error:   "Validation failed",
            Details: validationErrors,
        })
    }
    
    // Additional file validation
    if err := c.validateFiles(&req); err != nil {
        return ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error: err.Error(),
        })
    }
    
    // Process upload through service
    product, err := c.Service.CreateWithFiles(&req)
    if err != nil {
        return ctx.JSON(http.StatusInternalServerError, types.ErrorResponse{
            Error: "Failed to create product: " + err.Error(),
        })
    }
    
    return ctx.JSON(http.StatusCreated, product.ToResponse())
}

func (c *ProductController) validateFiles(req *ProductCreateRequest) error {
    // Validate image files
    for _, file := range req.Images {
        if !isValidImageType(file.Header.Get("Content-Type")) {
            return fmt.Errorf("invalid image type for file %s", file.Filename)
        }
        if file.Size > 5*1024*1024 { // 5MB
            return fmt.Errorf("image file %s exceeds size limit", file.Filename)
        }
    }
    
    // Validate manual file
    if req.Manual != nil {
        if !isValidDocumentType(req.Manual.Header.Get("Content-Type")) {
            return fmt.Errorf("invalid manual file type")
        }
        if req.Manual.Size > 50*1024*1024 { // 50MB
            return fmt.Errorf("manual file exceeds size limit")
        }
    }
    
    return nil
}`,l)})}," Copy ")]),s[58]||(s[58]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"ProductCreateRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Name        `),e("span",{class:"text-purple-400"},"string"),t("                "),e("span",{class:"text-gray-400"},'`json:"name" validate:"required,min=2,max=100"`'),t(`
    Description `),e("span",{class:"text-purple-400"},"string"),t("                "),e("span",{class:"text-gray-400"},'`json:"description" validate:"required,min=10,max=1000"`'),t(`
    Price       `),e("span",{class:"text-purple-400"},"float64"),t("               "),e("span",{class:"text-gray-400"},'`json:"price" validate:"required,gt=0"`'),t(`
    Category    `),e("span",{class:"text-purple-400"},"string"),t("                "),e("span",{class:"text-gray-400"},'`json:"category" validate:"required,oneof=electronics clothing books"`'),t(`
    Images      []*multipart.FileHeader `),e("span",{class:"text-gray-400"},'`json:"images" validate:"omitempty,dive,max=5242880"`'),t(),e("span",{class:"text-green-400"},"// 5MB limit"),t(`
    Manual      *multipart.FileHeader   `),e("span",{class:"text-gray-400"},'`json:"manual" validate:"omitempty"`'),t(`
}

`),e("span",{class:"text-blue-400"},"func"),t(" (c *ProductController) "),e("span",{class:"text-yellow-400"},"CreateWithFiles"),t("(ctx *router.Context) "),e("span",{class:"text-purple-400"},"error"),t(` {
    `),e("span",{class:"text-blue-400"},"var"),t(` req ProductCreateRequest
    
    `),e("span",{class:"text-green-400"},"// Parse multipart form"),t(`
    `),e("span",{class:"text-blue-400"},"if"),t(" err := ctx.Request.ParseMultipartForm("),e("span",{class:"text-purple-400"},"32"),t(" << "),e("span",{class:"text-purple-400"},"20"),t("); err != "),e("span",{class:"text-purple-400"},"nil"),t(" { "),e("span",{class:"text-green-400"},"// 32MB"),t(`
        `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error: `),e("span",{class:"text-green-400"},'"Failed to parse form data"'),t(`,
        })
    }
    
    `),e("span",{class:"text-green-400"},"// Bind form data"),t(`
    req.Name = ctx.FormValue(`),e("span",{class:"text-green-400"},'"name"'),t(`)
    req.Description = ctx.FormValue(`),e("span",{class:"text-green-400"},'"description"'),t(`)
    
    `),e("span",{class:"text-green-400"},"// Validate request"),t(`
    `),e("span",{class:"text-blue-400"},"if"),t(" validationErrors := validator.Validate(&req); validationErrors != "),e("span",{class:"text-purple-400"},"nil"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusBadRequest, types.ErrorResponse{
            Error:   `),e("span",{class:"text-green-400"},'"Validation failed"'),t(`,
            Details: validationErrors,
        })
    }
    
    `),e("span",{class:"text-green-400"},"// Process upload through service"),t(`
    product, err := c.Service.CreateWithFiles(&req)
    `),e("span",{class:"text-blue-400"},"if"),t(" err != "),e("span",{class:"text-purple-400"},"nil"),t(` {
        `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusInternalServerError, types.ErrorResponse{
            Error: `),e("span",{class:"text-green-400"},'"Failed to create product: "'),t(` + err.Error(),
        })
    }
    
    `),e("span",{class:"text-blue-400"},"return"),t(` ctx.JSON(http.StatusCreated, product.ToResponse())
}`)])],-1))])]),_:1})])]),e("section",me,[s[67]||(s[67]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Advanced Validation Patterns",-1)),e("div",ye,[r(i,null,{header:a(()=>[e("div",ve,[r(n,{name:"i-lucide-link",class:"h-5 w-5 text-purple-500"}),s[61]||(s[61]=e("span",{class:"font-semibold"},"Cross-Field Validation",-1))])]),default:a(()=>[e("div",fe,[e("div",be,[s[62]||(s[62]=e("span",{class:"text-xs text-gray-400"},"Cross-Field Validation Examples",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[8]||(s[8]=l=>d('type UserUpdateRequest struct {\n    CurrentPassword string `json:"current_password" validate:"required_with=NewPassword"`\n    NewPassword     string `json:"new_password" validate:"omitempty,min=8,nefield=CurrentPassword"`\n    ConfirmPassword string `json:"confirm_password" validate:"required_with=NewPassword,eqfield=NewPassword"`\n}\n\ntype EventScheduleRequest struct {\n    StartDate time.Time `json:"start_date" validate:"required"`\n    EndDate   time.Time `json:"end_date" validate:"required,gtfield=StartDate"`\n    Duration  int       `json:"duration" validate:"required,gte=1"`\n}\n\ntype PricingRequest struct {\n    RegularPrice float64 `json:"regular_price" validate:"required,gt=0"`\n    SalePrice    float64 `json:"sale_price" validate:"omitempty,gt=0,ltfield=RegularPrice"`\n    Currency     string  `json:"currency" validate:"required,oneof=USD EUR GBP"`\n}\n\ntype ConditionalValidationRequest struct {\n    Type         string  `json:"type" validate:"required,oneof=personal business"`\n    CompanyName  string  `json:"company_name" validate:"required_if=Type business"`\n    TaxID        string  `json:"tax_id" validate:"required_if=Type business"`\n    PersonalName string  `json:"personal_name" validate:"required_if=Type personal"`\n}',l))}," Copy ")]),s[63]||(s[63]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"UserUpdateRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    CurrentPassword `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"current_password" validate:"required_with=NewPassword"`'),t(`
    NewPassword     `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"new_password" validate:"omitempty,min=8,nefield=CurrentPassword"`'),t(`
    ConfirmPassword `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"confirm_password" validate:"required_with=NewPassword,eqfield=NewPassword"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"EventScheduleRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    StartDate time.Time `),e("span",{class:"text-gray-400"},'`json:"start_date" validate:"required"`'),t(`
    EndDate   time.Time `),e("span",{class:"text-gray-400"},'`json:"end_date" validate:"required,gtfield=StartDate"`'),t(`
    Duration  `),e("span",{class:"text-purple-400"},"int"),t("       "),e("span",{class:"text-gray-400"},'`json:"duration" validate:"required,gte=1"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"PricingRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    RegularPrice `),e("span",{class:"text-purple-400"},"float64"),t(),e("span",{class:"text-gray-400"},'`json:"regular_price" validate:"required,gt=0"`'),t(`
    SalePrice    `),e("span",{class:"text-purple-400"},"float64"),t(),e("span",{class:"text-gray-400"},'`json:"sale_price" validate:"omitempty,gt=0,ltfield=RegularPrice"`'),t(`
    Currency     `),e("span",{class:"text-purple-400"},"string"),t("  "),e("span",{class:"text-gray-400"},'`json:"currency" validate:"required,oneof=USD EUR GBP"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"ConditionalValidationRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Type         `),e("span",{class:"text-purple-400"},"string"),t("  "),e("span",{class:"text-gray-400"},'`json:"type" validate:"required,oneof=personal business"`'),t(`
    CompanyName  `),e("span",{class:"text-purple-400"},"string"),t("  "),e("span",{class:"text-gray-400"},'`json:"company_name" validate:"required_if=Type business"`'),t(`
    TaxID        `),e("span",{class:"text-purple-400"},"string"),t("  "),e("span",{class:"text-gray-400"},'`json:"tax_id" validate:"required_if=Type business"`'),t(`
    PersonalName `),e("span",{class:"text-purple-400"},"string"),t("  "),e("span",{class:"text-gray-400"},'`json:"personal_name" validate:"required_if=Type personal"`'),t(`
}`)])],-1))])]),_:1}),r(i,null,{header:a(()=>[e("div",we,[r(n,{name:"i-lucide-layers",class:"h-5 w-5 text-green-500"}),s[64]||(s[64]=e("span",{class:"font-semibold"},"Nested Struct Validation",-1))])]),default:a(()=>[e("div",he,[e("div",qe,[s[65]||(s[65]=e("span",{class:"text-xs text-gray-400"},"Nested Validation Example",-1)),e("button",{class:"copy-button text-xs text-gray-400 hover:text-gray-200 px-2 py-1 rounded border border-gray-600 hover:border-gray-400 transition-colors",onClick:s[9]||(s[9]=l=>{d(`type Address struct {
    Street     string \`json:"street" validate:"required,min=5,max=100"\`
    City       string \`json:"city" validate:"required,min=2,max=50"\`
    State      string \`json:"state" validate:"required,min=2,max=50"\`
    PostalCode string \`json:"postal_code" validate:"required,len=5|len=9"\`
    Country    string \`json:"country" validate:"required,len=2"\`
}

type ContactInfo struct {
    Email string \`json:"email" validate:"required,email"\`
    Phone string \`json:"phone" validate:"omitempty,phone"\`
}

type UserRegistrationRequest struct {
    Name        string      \`json:"name" validate:"required,min=2,max=50"\`
    Contact     ContactInfo \`json:"contact" validate:"required"\`
    Address     Address     \`json:"address" validate:"required"\`
    ShippingAddress *Address \`json:"shipping_address" validate:"omitempty"\`
    Preferences []string    \`json:"preferences" validate:"omitempty,dive,oneof=email sms newsletter"\`
    Tags        []Tag       \`json:"tags" validate:"omitempty,dive"\`
}

type Tag struct {
    Name  string \`json:"name" validate:"required,min=2,max=20"\`
    Color string \`json:"color" validate:"omitempty,hexcolor"\`
}

// Validation will automatically dive into nested structs
func validateComplexRequest() {
    req := &UserRegistrationRequest{
        Name: "John Doe",
        Contact: ContactInfo{
            Email: "john@example.com",
            Phone: "+1234567890",
        },
        Address: Address{
            Street:     "123 Main St",
            City:       "Anytown",
            State:      "CA",
            PostalCode: "12345",
            Country:    "US",
        },
        Tags: []Tag{
            {Name: "vip", Color: "#ff0000"},
            {Name: "premium", Color: "#00ff00"},
        },
    }
    
    if errors := validator.Validate(req); errors != nil {
        // Handle nested validation errors
        for _, err := range errors {
            fmt.Printf("Field: %s, Error: %s
", err.Field, err.Message)
        }
    }
}`,l)})}," Copy ")]),s[66]||(s[66]=e("pre",{class:"text-sm text-gray-300 whitespace-pre-wrap"},[e("code",null,[e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"Address"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Street     `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"street" validate:"required,min=5,max=100"`'),t(`
    City       `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"city" validate:"required,min=2,max=50"`'),t(`
    State      `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"state" validate:"required,min=2,max=50"`'),t(`
    PostalCode `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"postal_code" validate:"required,len=5|len=9"`'),t(`
    Country    `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"country" validate:"required,len=2"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"ContactInfo"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Email `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"email" validate:"required,email"`'),t(`
    Phone `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"phone" validate:"omitempty,phone"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"UserRegistrationRequest"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Name        `),e("span",{class:"text-purple-400"},"string"),t("      "),e("span",{class:"text-gray-400"},'`json:"name" validate:"required,min=2,max=50"`'),t(`
    Contact     ContactInfo `),e("span",{class:"text-gray-400"},'`json:"contact" validate:"required"`'),t(`
    Address     Address     `),e("span",{class:"text-gray-400"},'`json:"address" validate:"required"`'),t(`
    ShippingAddress *Address `),e("span",{class:"text-gray-400"},'`json:"shipping_address" validate:"omitempty"`'),t(`
    Preferences []`),e("span",{class:"text-purple-400"},"string"),t("    "),e("span",{class:"text-gray-400"},'`json:"preferences" validate:"omitempty,dive,oneof=email sms newsletter"`'),t(`
    Tags        []Tag       `),e("span",{class:"text-gray-400"},'`json:"tags" validate:"omitempty,dive"`'),t(`
}

`),e("span",{class:"text-blue-400"},"type"),t(),e("span",{class:"text-yellow-400"},"Tag"),t(),e("span",{class:"text-blue-400"},"struct"),t(` {
    Name  `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"name" validate:"required,min=2,max=20"`'),t(`
    Color `),e("span",{class:"text-purple-400"},"string"),t(),e("span",{class:"text-gray-400"},'`json:"color" validate:"omitempty,hexcolor"`'),t(`
}`)])],-1))])]),_:1})])]),e("section",null,[s[74]||(s[74]=e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Best Practices",-1)),e("div",Ce,[r(o,{color:"green",variant:"soft"},{'title"':a(()=>s[68]||(s[68]=[t("âœ… Do's",-1)])),description:a(()=>s[69]||(s[69]=[e("ul",{class:"list-disc list-inside space-y-1 mt-2"},[e("li",null,"Use JSON tag names for consistent field naming in validation messages"),e("li",null,"Combine multiple validation rules for comprehensive checks"),e("li",null,"Use omitempty for optional fields to skip validation when empty"),e("li",null,"Create custom validators for domain-specific business rules"),e("li",null,"Validate at the controller level before processing requests"),e("li",null,"Use dive tag for validating array/slice elements"),e("li",null,"Implement cross-field validation for related fields"),e("li",null,"Return structured validation errors with field-specific messages")],-1)])),_:1}),r(o,{color:"red",variant:"soft"},{'title"':a(()=>s[70]||(s[70]=[t("âŒ Don'ts",-1)])),description:a(()=>s[71]||(s[71]=[e("ul",{class:"list-disc list-inside space-y-1 mt-2"},[e("li",null,"Don't skip validation on user input"),e("li",null,"Don't use validation tags on unexported fields"),e("li",null,"Don't forget to handle validation errors properly"),e("li",null,"Don't rely solely on client-side validation"),e("li",null,"Don't validate in multiple layers unnecessarily"),e("li",null,"Don't ignore the JSON tag for field naming"),e("li",null,"Don't create overly complex validation rules in single tags"),e("li",null,"Don't expose internal validation library errors to users")],-1)])),_:1}),r(o,{color:"amber",variant:"soft"},{'title"':a(()=>s[72]||(s[72]=[t("ðŸ’¡ Tips",-1)])),description:a(()=>s[73]||(s[73]=[e("ul",{class:"list-disc list-inside space-y-1 mt-2"},[e("li",null,"Use the Base CLI generator to automatically create validated request structs"),e("li",null,"Test your validation rules with edge cases and boundary values"),e("li",null,"Consider performance when using complex validation on large datasets"),e("li",null,"Document custom validation rules for team members"),e("li",null,"Use validation aliases for commonly repeated rule combinations"),e("li",null,"Keep validation logic in the request layer, not in models or services")],-1)])),_:1})])])])),[[g]])]),_:1})}}});export{Ee as default};
